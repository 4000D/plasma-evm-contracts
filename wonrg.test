
> plasma-evm-contracts@1.0.0 test:stake /Users/pjh/workspace/plasma-evm-contracts
> mocha --exit --bail --recursive test/stake --timeout 120000



  stake/SeigManager
    when the token owner is the only depositor of each root chain
      when the token owner deposits WTON to all root chains
        ✓ should emit Deposited event
        ✓ WTON balance of the token owner must be zero
        ✓ deposit manager should have deposited WTON tokens
        ✓ coinage balance of the tokwn owner must be increased by deposited WTON amount (113ms)
        ✓ tot balance of root chain must be increased by deposited WTON amount (90ms)
        when 0-th root chains commits first ORE each

              0-th root chain first commit

              totalStakedAmount     :     496.00 WTON
              totalSupplyOfWTON     :   10096.00 WTON
              prevTotalSupply       :     400.00 WTON
              nextTotalSupply       :     496.00 WTON

              tot.totalSupply       :     496.00 WTON

              ----------------------------------------

              previous factor       :       1.00 WTON
              current factor        :       1.24 WTON

              ----------------------------------------

              prevBalance           :     100.00 WTON
              curBalance            :     124.00 WTON

              ----------------------------------------

              previous seig block : 172
              current seig block  : 196
              numBlocks           : 24

              seigPerBlock        :     100.00 WTON
              totalSeig           :    2400.00 WTON
              stakedSeig          :      96.00 WTON
              unstakedSeig        :    2304.00 WTON

              ========================================
              ========================================
              

              totalSeig     :      96.00 WTON
              this.accSeig  :      96.00 WTON
              
          ✓ 0-th root chain: tot balance of root chain and coinage balance of token owner should be increased

              0-th root chain first commit

              totalStakedAmount     :     496.00 WTON
              totalSupplyOfWTON     :   10096.00 WTON
              prevTotalSupply       :     400.00 WTON
              nextTotalSupply       :     496.00 WTON

              tot.totalSupply       :     496.00 WTON

              ----------------------------------------

              previous factor       :       1.00 WTON
              current factor        :       1.24 WTON

              ----------------------------------------

              prevBalance           :     100.00 WTON
              curBalance            :     124.00 WTON

              ----------------------------------------

              previous seig block : 208
              current seig block  : 232
              numBlocks           : 24

              seigPerBlock        :     100.00 WTON
              totalSeig           :    2400.00 WTON
              stakedSeig          :      96.00 WTON
              unstakedSeig        :    2304.00 WTON

              ========================================
              ========================================
              
          1) 0-th root chain: the tokwn owner should claim seigniorage


  6 passing (30s)
  1 failing

  1) stake/SeigManager
       when the token owner is the only depositor of each root chain
         when the token owner deposits WTON to all root chains
           when 0-th root chains commits first ORE each
             0-th root chain: the tokwn owner should claim seigniorage:

      AssertionError: expected '29477020602218700475440000000' to be less than or equal to '1000000000'
      + expected - actual

      -29477020602218700475440000000
      +1000000000
      
      at checkBalance (test/stake/SeigManager.test.js:93:27)
      at checkBalanceProm (test/stake/SeigManager.test.js:79:12)
      at process._tickCallback (internal/process/next_tick.js:68:7)



